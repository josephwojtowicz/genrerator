(this.webpackJsonpproject3=this.webpackJsonpproject3||[]).push([[0],{40:function(e,t,n){},42:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(28),o=n.n(a),s=(n(40),n(11)),i=n.n(s),j=n(15),l=n(8),u=(n(42),n(9)),b=n.n(u),d=n(70),h=n(14),p=n(34),O=n(18),f=n(32),v=n(29),x=n(30),g=n(35),m=n(33),y=n(1),w=function(e){Object(g.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(v.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={genres:[]},e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var e=this;b.a.get("http://localhost:3001/genres/").then((function(t){var n=t.data;e.setState({genres:n})}))}},{key:"render",value:function(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h5",{children:"your favs"}),this.state.genres.map((function(e){return Object(y.jsx)("div",{children:e.genre})}))]})}}]),n}(r.a.Component),S=function(){var e={ClientId:"976ca23d248b4c79b0099e504f8cc7f0",ClientSecret:"40796610f47d4ddba0458e1133db0c2b"};console.log("RENDERING APP.JS");var t=Object(c.useState)(""),n=Object(l.a)(t,2),r=n[0],a=n[1],o=Object(c.useState)(""),s=Object(l.a)(o,2),u=s[0],v=s[1],x=Object(c.useState)(""),g=Object(l.a)(x,2),m=(g[0],g[1],Object(c.useState)([])),S=Object(l.a)(m,2),k=S[0],C=S[1],A=Object(c.useState)({genre:""}),E=Object(l.a)(A,2),z=E[0],D=E[1],I=Object(c.useState)({genre:""}),N=Object(l.a)(I,2);N[0],N[1];console.log("token",r),console.log("filter",u),console.log("items",k),console.log("genre",z),Object(c.useEffect)(Object(j.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b()("https://accounts.spotify.com/api/token",{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+btoa(e.ClientId+":"+e.ClientSecret)},data:"grant_type=client_credentials",method:"POST"});case 2:n=t.sent,a(n.data.access_token);case 4:case"end":return t.stop()}}),t)}))),[]);var B=function(e){D({genre:e.target.value})},J=function(){var e=Object(j.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log("filter",u),e.next=4,b()('https://api.spotify.com/v1/search?q=genre:"'.concat(u,'"&type=artist'),{method:"GET",headers:{Authorization:"Bearer "+r}});case 4:n=e.sent,C(n.data.artists.items);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(e){J(e),B(e),function(e){e.preventDefault(),b.a.post("http://localhost:3001/genres/",z).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),D({genre:""})}(e)};return Object(y.jsx)(h.a,{children:Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)("h1",{children:"genrerator"}),Object(y.jsx)("br",{}),Object(y.jsx)(f.a,{fluid:"sm",children:Object(y.jsxs)(d.a,{children:[Object(y.jsxs)(O.a,{sm:8,children:[Object(y.jsxs)("form",{children:[Object(y.jsx)("p",{children:"search for a genre of music you enjoy"}),Object(y.jsx)("input",{type:"text",value:D.genre,onChange:function(e){return function(e){v(e.target.value),B(e)}(e)}}),Object(y.jsx)("br",{}),Object(y.jsx)("p",{children:"or pick one here"}),Object(y.jsxs)("select",{value:"this.target.value",onChange:function(e){return v(e.target.value)},children:[Object(y.jsx)("option",{value:"genre",children:"choose one!"}),Object(y.jsx)("option",{value:"nz indie",children:"nz indie"}),Object(y.jsx)("option",{value:"highlife",children:"highlife"}),Object(y.jsx)("option",{value:"c86",children:"c86"}),Object(y.jsx)("option",{value:"chopped and screwed",children:"chopped and screwed"}),Object(y.jsx)("option",{value:"nwobhm",children:"nwobhm"}),Object(y.jsx)("option",{value:"library music",children:"library music"})]}),Object(y.jsx)("br",{}),Object(y.jsx)("br",{}),Object(y.jsx)("input",{type:"submit",name:"genre",value:D.genre,onClick:function(e){return P(e)}})]}),Object(y.jsx)("br",{}),Object(y.jsx)("div",{children:k.map((function(e){return Object(y.jsx)("div",{className:"list-group",children:Object(y.jsx)(p.a,{variant:"outline-secondary-md",id:e.name,children:e.name},0)})}))})]}),Object(y.jsx)(O.a,{sm:2,children:Object(y.jsx)("div",{children:Object(y.jsx)(w,{})})})]})})]})})};n(67);o.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(S,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.25879212.chunk.js.map